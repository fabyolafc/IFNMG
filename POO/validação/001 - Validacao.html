<!DOCTYPE HTML>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Validação de Formulários</title>

</head>

<body>	

	<script>
		//Quando o objeto for carregado, o DOM foi criado.
		window.onload = function (){
			var f = document.getElementById ("f");
			f.onsubmit = function (){
				//Verificando o campo nome.
				if (f.nome.value.length == 0){
					alert ("Informe o nome.");
					f.nome.focus();
					return false;
				}
				//Verificando o campo sexo.
				if (f.sexo.value == "vazio"){
					alert ("Informe o sexo.");
					f.sexo.focus();
					return false;
				}
				//Verificando o campo UF.
				if (f.uf.value == "vazio"){
					alert ("Informe o estado.");
					f.uf.focus();
					return false;
				}
				//Verificando o campo cidade.
				if (f.cidade.value == "vazio"){
					alert ("Informe a cidade.");
					f.cidade.focus();
					return false;
				}
				if (f.uf.value == 'ba' && (f.cidade.selectedIndex < 1 || f.cidade.selectedIndex > 11)){
						alert ("Selecione uma cidade válida do estado Bahia.");
						f.cidade.focus();
						return false;
				} else if (f.uf.value == 'mg' && (f.cidade.selectedIndex < 12 || f.cidade.selectedIndex > 23)){
					alert ("Selecione uma cidade válida do estado Minas Gerais.");
						f.cidade.focus();
						return false;
				} else if (f.uf.value == 'sp' && (f.cidade.selectedIndex < 24 || f.cidade.selectedIndex > 33)){
					alert ("Selecione uma cidade válida do estado São Paulo.");
						f.cidade.focus();
						return false;
				}
				alert ("Os dados serão enviados.");
				return true;
			}
		}
	</script>

	<h1>Exercício de Validação de Formulários</h1>

	<form id="f" method="post" action="https://postman-echo.com/post">
        
        <fieldset>
 			<legend> Dados gerais </legend>       
            
            <label for="nome"> Nome: </label>
            <input type="text" id="nome" name="nome" size="40" maxlength="40" />
            
            <br />           
            
            <label for="sexo"> Selecione seu Sexo: </label>
            <select id="sexo" name="sexo">
            	<option value="vazio"> </option>
                <option value="masc"> Masculino </option>
                <option value="fem"> Feminino </option>
            </select>
        
        </fieldset>
               
        <fieldset>
        	<legend> Onde você nasceu? </legend>
			<label for="uf">UF: </label>
			<select id="uf" name="uf">
				<option value="vazio"> </option>
				<option value="ba"> Bahia </option>
				<option value="mg"> Minas Gerais </option>
				<option value="sp"> São Paulo </option>
			</select>
			
			<br />
			
			<label for="cidade">Cidade: </label>
			<select id="cidade" name="cidade">
				<option value="vazio"> </option>
				
				<optgroup label="Bahia">
					<option> Alcubaça </option>
					<option> Feira de Santana </option>
					<option> Porto Seguro </option>
					<option> Santa Ines </option>
					<option> Senhor do Bonfim </option>
					<option> Tremedal </option>
					<option> Tucano </option>
					<option> Uaua </option>
					<option> Ubaira </option>
					<option> Ubaitaba </option>
					<option> Ubata </option>
				</optgroup>
				
				<optgroup label="Minas Gerais">
					<option> Abaeté </option>
					<option> Água Boa </option>
					<option> Araçuaí </option>
					<option> Belo Horizonte </option>
					<option> Berilo </option>
					<option> Guanhães </option>
					<option> Francisco Badaró</option>
					<option> Ipatinga </option>
					<option> Itinga </option>
					<option> Lelivéldia </option>
					<option> Viçosa </option>
					<option> Virgem da Lapa </option>
				</optgroup>
				
				<optgroup label="São Paulo">
					<option> Adamantina </option>				
					<option> Alvares Florence </option>
					<option> Areias </option>
					<option> Brotas </option>
					<option> Cajuru </option>
					<option> Iguapé </option>
					<option> Presidente Prudente </option>
					<option> Santo André </option>
					<option> São Paulo </option>
					<option> Votorantim </option>
				</optgroup>
				
			</select>
            
        </fieldset>
        
        <input type="submit" id="enviar" name="enviar" value="   Enviar   " />
        
        <br />
        
        <input type="reset" id="limpar" value="   Limpar   " />
        
        <br />                
        
    </form>
    
    <br />
    <hr />
    
    <h2> Regras para validação </h2>

	Caso alguma das regras abaixo não seja satisfeita, deverá ser exibida uma mensagem para o usuário e dado foco ao campo que seja inválido.
    
    <ul>
    	<li> O nome não pode estar vazio. </li>
        <li> O sexo não pode estrar vazio.</li>
        <li> O UF não pode estar vazio.</li>
        <li> A cidade não pode estar vazia.</li>
		<li> Não pode ser selecionada uma cidade incompatível com um UF.</li>
    </ul>
                 
</body>
</html>